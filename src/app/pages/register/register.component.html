<div class="form-container">
    <h1 style="color: white; text-align: center;">Registrati</h1>

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <input type="email" formControlName="email" id="email" class="form-control" placeholder="Inserisci il tuo indirizzo email" autocomplete="off">
      <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors">
        <div class="error-message" *ngIf="registerForm.get('email')?.errors?.['required']">L'email è obbligatoria.</div>
        <div class="error-message" *ngIf="registerForm.get('email')?.errors?.['email']">Inserisci un'email valida.</div>
      </div>
    </div>
  
    <div class="form-group">
      <input [type]="hidePassword ? 'password' : 'text'" formControlName="password" id="password" class="form-control" [ngStyle]="passwordMatchStyle()" placeholder="Inserisci la tua password">
      <i class="fa" [class.fa-eye-slash]="hidePassword" [class.fa-eye]="!hidePassword" (click)="passwordVisibility()"></i>
      <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors">
        <div class="error-message" *ngIf="registerForm.get('password')?.errors?.['required']">
          La password è obbligatoria.
        </div>
      </div>
    </div>

    <div class="form-group">
        <input [type]="hidePassword ? 'password' : 'text'" formControlName="passwordRepeat" id="passwordRepeat" class="form-control" [ngStyle]="passwordMatchStyle()" placeholder="Ripeti la tua password">
        <i class="fa" [class.fa-eye-slash]="hidePassword" [class.fa-eye]="!hidePassword" (click)="passwordVisibility()"></i>
        <div *ngIf="registerForm.get('passwordRepeat')?.touched && registerForm.get('passwordRepeat')?.errors">
          <div class="error-message" *ngIf="registerForm.get('passwordRepeat')?.errors?.['required']">
            Ripeti la password.
          </div>
        </div>
      </div>

      <div *ngIf="registerForm.errors?.['notSame'] && (registerForm.get('password')?.touched || registerForm.get('passwordRepeat')?.touched)" class="error-message">
        Le password non sono uguali.
      </div>
  
    <div class="checkbox-container">
        <label style="color: #868686;" class="form-check-label" for="privacy">Accetta l'informativa sulla privacy</label>
      <input type="checkbox" formControlName="privacy" id="privacy" class="form-check-input">
      <div class="error-message-checkbox" *ngIf="registerForm.get('privacy')?.touched && registerForm.get('privacy')?.errors?.['required']">
        Devi accettare l'informativa sulla privacy.
      </div>
    </div>
  
    <button type="submit" class="registerButton">Registrati</button>

    <div *ngIf="formErrorMessage" class="error-message-sub">
        {{ formErrorMessage }}
  </div>

        <p class="registerLink">Sei già registrato?<a class="login-here" routerLink="/areariservata"> Accedi alla tua area riservata</a></p>
    
  </form>
</div>